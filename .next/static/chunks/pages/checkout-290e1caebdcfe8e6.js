(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{7250:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return n(6666)}])},6666:function(e,t,n){"use strict";n.r(t);var a=n(4924),l=n(6042),s=n(9396),r=n(5893),i=n(1163),c=n.n(i),o=n(7294),u=n(1641),m=n(8386),d=n(3057),p=n(938),h=[{name:"name",lable:"Name",length:"col-span-1",value:""},{name:"streetAddress",lable:"House Number And Street Name",length:"col-span-1",value:""},{name:"suburb",lable:"Suburb",length:"col-span-1",value:""},{name:"city",lable:"Town/City",length:"col-span-1",value:""},{name:"province",lable:"Province",length:"col-span-1",value:""},{name:"postcode",lable:"Post Code",length:"col-span-1",value:""},{name:"phone",lable:"Phone",length:"col-span-1",value:""},{name:"email",lable:"Email Address",length:"col-span-1",value:""},{name:"message",lable:"Message",length:"col-span-2",type:"text-area",value:""}],x=function(){var e=(0,o.useContext)(m.V),t=e.user,n=e.placeOrder,i=(0,o.useContext)(d.h),x=i.cart,f=i.clearCart,g=(0,o.useState)(function(){return{city:"",email:"",message:"",postcode:"",name:"",paymentMethod:"",phone:"",province:"",streetAddress:"",user_id:""}}),b=g[0],v=g[1],y=function(e){var t,a;e.preventDefault(),null==n||n((0,s.Z)((0,l.Z)({},b),{OrderedItems:x,totalAmount:x.amount+(null===(t=x.shippingPrice[0])||void 0===t?void 0:t.price),shippingAmount:null===(a=x.shippingPrice[0])||void 0===a?void 0:a.price}),function(){null==f||f()})};return(0,o.useEffect)(function(){t?v(function(e){return(0,s.Z)((0,l.Z)({},e),{name:null==t?void 0:t.user.username,phone:t.user.phone,email:t.user.email})}):c().push("/signin?redirect=checkout")},[t]),(0,r.jsx)(u.ZP,{imageHeight:"",headerMinimal:!0,children:(0,r.jsxs)("form",{onSubmit:function(e){return y(e)},className:"lg:px-10 px-4 container mx-auto mb-4 lg:mb-20",children:[(0,r.jsxs)("div",{className:"lg:apt-form max-w-5xl mx-auto space-y-4 lg:space-y-0",children:[" ",(0,r.jsx)("h1",{className:"font-bold text-xl col-span-2",children:"Billing Details"}),h.map(function(e){return"text-area"===e.type?(0,r.jsx)("textarea",{onChange:function(t){return v(function(n){return(0,s.Z)((0,l.Z)({},n),(0,a.Z)({},e.name,t.target.value))})},value:b[e.name],rows:8,placeholder:e.lable,className:e.length+" form-input w-full"},e.name):(0,r.jsx)("input",{value:b[e.name],onChange:function(t){return v(function(n){return(0,s.Z)((0,l.Z)({},n),(0,a.Z)({},e.name,t.target.value))})},required:!0,placeholder:e.lable,className:e.length+" form-input w-full"},e.name)})]}),(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6 bg-gray-100 mt-4 lg:mt-0 rounded",children:[(0,r.jsx)("h1",{className:"font-bold text-lg border-b my-4 py-2",children:"Your Order"}),(0,r.jsx)("h1",{className:"font-bold",children:"Items"}),(0,r.jsx)("div",{className:"space-y-2 py-6",children:x.items.map(function(e,t){return(0,r.jsxs)("div",{className:"text-xs",children:[(0,r.jsx)("p",{className:"font-bold",children:e.attributes.title}),(0,r.jsx)("p",{className:"text-gray-600",children:p.o.format(e.attributes.price)})]},t)})}),(0,r.jsxs)("div",{className:"divide-y",children:[(0,r.jsxs)("div",{className:"flex text-sm py-4 items-center justify-between",children:[(0,r.jsx)("h1",{className:"font-bold text-md",children:"Subtotal"}),(0,r.jsx)("p",{className:"text-gray-600",children:p.o.format(x.amount)})]}),(0,r.jsxs)("div",{className:"flex text-sm py-4 items-center justify-between",children:[(0,r.jsx)("h1",{className:"font-bold text-md",children:"Shipping"}),(0,r.jsx)("p",{className:"text-gray-600",children:p.o.format(x.amount)})]}),(0,r.jsxs)("div",{className:"flex py-4 items-center justify-between",children:[(0,r.jsx)("h1",{className:"font-bold text-xl",children:"Total"}),(0,r.jsx)("p",{className:"text-gray-600 text-lg font-bold",children:p.o.format(x.amount)})]})]}),(0,r.jsxs)("div",{className:"text-sm w-fit grid",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{required:!0,onChange:function(e){return v(function(t){return(0,s.Z)((0,l.Z)({},t),{paymentMethod:e.target.value})})},type:"radio",value:"CreditOrDebit",name:"paymentMethod"}),(0,r.jsx)("span",{children:"Credit Card or Debit Card"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{required:!0,onChange:function(e){return v(function(t){return(0,s.Z)((0,l.Z)({},t),{paymentMethod:e.target.value})})},type:"radio",value:"Paypal",name:"paymentMethod"}),(0,r.jsx)("span",{children:"Pay Pal"})]})]}),(0,r.jsx)("button",{className:"bg-black py-3 mt-4 text-white text-sm w-full max-w-xs",children:"Place Order"})]})]})})};t.default=x},938:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var a=new Intl.NumberFormat("en-ZA",{style:"currency",currency:"Ksh",minimumFractionDigits:2})}},function(e){e.O(0,[247,641,774,888,179],function(){return e(e.s=7250)}),_N_E=e.O()}]);